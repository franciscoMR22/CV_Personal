@import url('https://fonts.googleapis.com/css2?family=Cardo:ital,wght@0,400;0,700;1,400&display=swap');
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
}

:root {
  --background: #F8FAFC;
  --foreground: #020617;
  --primary: #10B981;
  --glass: rgba(255, 255, 255, 0.2); 
  --glass-border: #E2E8F0;
  --switch-bg: rgb(135, 150, 165);
  --circle-bg: rgb(0, 56, 146);
  --cert-bg: linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.8)), url("https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=1000&auto=format&fit=crop");
  --cert-text: #020617;
}

.dark {
  --background: #0B0B0B;
  --foreground: #F8FAFC;
  --primary: #10B981;
  --glass: rgba(0, 0, 0, 0.4); 
  --glass-border: rgba(255, 255, 255, 0.1);
  --cert-bg: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url("https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=1000&auto=format&fit=crop");
  --cert-text: #F8FAFC;
}

@layer base {
  * { 
    font-family: 'Cardo', serif !important; 
    margin: 0; padding: 0; box-sizing: border-box;
    /* QUITADO EL !IMPORTANT PARA PERMITIR SLIDES */
    transition: background-color 500ms ease-in-out, color 500ms ease-in-out, border-color 500ms ease-in-out, opacity 500ms ease-in-out, backdrop-filter 500ms ease-in-out;
  }
  body { background-color: var(--background); color: var(--foreground); overflow-x: hidden; scroll-behavior: smooth; }
}

/* --- BARRA DE NAVEGACIÓN FIJA --- */
.nav {
    width: 100%;
    position: fixed !important;
    top: 0; left: 0;
    z-index: 1000;
    padding: 20px 0;
    background-color: transparent;
    transition: all 0.4s ease !important;
}

.nav.affix {
    padding: 12px 0;
    background-color: var(--glass);
    backdrop-filter: blur(15px);
    border-bottom: 1px solid var(--glass-border);
}

/* --- FONDO DINÁMICO --- */
#particles-js { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background-color: #000000; background-image: url("https://photos-1.dropbox.com/t/2/AAASMutjwTgvYviXGEbHTehWuZUw3AwZ26GBMXFl77QvdQ/12/48457171/jpeg/32x32/1/_/1/2/EstilismoPortada-OK-1800x916.jpg/EMTeyMMEGNaBDCACKAI/LKkJ_TXo8iVpcCsX4gg6ONkUptujcBWaMJ8uDo1VPYA?size=2048x1536&size_mode=3"); background-repeat: no-repeat; background-size: cover; background-position: center; opacity: 0; transition: opacity 1s ease; }
.dark #particles-js { opacity: 1; }
.light-particles-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; overflow: hidden; background: #FFF; transition: opacity 1s ease; filter: blur(6px); }
.particle { position: absolute; top: 0; right: 0; bottom: 0; left: 0; margin: auto; width: 25vmin; height: 25vmin; border-radius: 50%; box-shadow: 0 4vmin 4vmin rgba(0,0,0,.15), 0 -8vmin 4vmin rgba(0,0,0,.05) inset, 0 12vmin 4vmin rgba(255,255,255,.1) inset; animation: doit 18000ms infinite ease-in-out alternate; opacity: 0.3; }
@keyframes doit { 100% { transform: translate3d(0,0,0) scale(0.1); } }

/* --- MAPA DE NODOS --- */
.node-container { position: relative; width: 100%; display: flex; flex-direction: row; align-items: flex-start; justify-content: space-between; padding: 20px 0; gap: 20px; }
.node { background: var(--glass); backdrop-filter: blur(12px); border: 1px solid var(--glass-border); border-radius: 24px; padding: 20px; width: 100%; max-width: 380px; position: relative; z-index: 30; transition: all 0.4s ease; }
.node:hover { transform: scale(1.03) translateY(-5px); border-color: var(--primary); }
.connection-svg-h { position: absolute; top: 100px; left: 0; width: 100%; height: 80px; pointer-events: none; z-index: 10; }
.line-path-h { fill: none; stroke: var(--primary); stroke-width: 2; stroke-dasharray: 10 10; animation: flow-h 25s linear infinite; opacity: 0.2; }
@keyframes flow-h { from { stroke-dashoffset: 300; } to { stroke-dashoffset: 0; } }

/* --- AVATAR --- */
.avatar-container { border-radius: 40px; position: relative; overflow: hidden; border: 1px solid transparent; z-index: 20; }
.avatar-container.active-frame { background: var(--glass); backdrop-filter: blur(10px); border: 1px solid var(--glass-border); }

/* --- PARALLAX TILT CARDS --- */
.cert-wrap { transform-style: preserve-3d; transform: perspective(1000px); cursor: pointer; width: 100%; }
.cert-container { --rX: 0; --rY: 0; --bX: 50%; --bY: 80%; height: 260px; border: 1px solid var(--glass-border); border-radius: 16px; padding: 25px; display: flex; flex-direction: column; justify-content: flex-end; position: relative; transform: rotateX(calc(var(--rX) * 1deg)) rotateY(calc(var(--rY) * 1deg)); background: var(--cert-bg); background-position: var(--bX) var(--bY); background-size: 150% auto; transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1); overflow: hidden; }
.cert-container::before, .cert-container::after { content: ""; width: 20px; height: 20px; border: 2px solid var(--primary); position: absolute; z-index: 2; opacity: 0.4; transition: 0.3s; }
.cert-container::before { top: 20px; right: 20px; border-bottom: 0; border-left: 0; }
.cert-container::after { bottom: 20px; left: 20px; border-top: 0; border-right: 0; }
.cert-wrap:hover .cert-container::before, .cert-wrap:hover .cert-container::after { width: calc(100% - 40px); height: calc(100% - 40px); opacity: 1; }
.cert-container h3 { color: var(--cert-text); font-size: 1.3rem; font-weight: 700; margin-bottom: 5px; z-index: 3; }
.cert-container p { color: var(--cert-text); opacity: 0.7; font-size: 1rem; z-index: 3; }

/* --- MODERN BUTTON --- */
.animated-button { position: relative; display: flex; align-items: center; gap: 4px; padding: 14px 32px; border: 4px solid transparent; font-size: 16px; background-color: inherit; border-radius: 100px; font-weight: 600; color: #ADFF2F; box-shadow: 0 0 0 2px #ADFF2F; cursor: pointer; overflow: hidden; transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1); }
.animated-button svg { position: absolute; width: 24px; fill: #ADFF2F; z-index: 9; transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1); }
.animated-button .arr-1 { right: 16px; }
.animated-button .arr-2 { left: -25%; }
.animated-button .circle { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 20px; height: 20px; background-color: #ADFF2F; border-radius: 50%; opacity: 0; transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1); }
.animated-button .text { position: relative; z-index: 1; transform: translateX(-12px); transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1); }
.animated-button:hover { box-shadow: 0 0 0 12px transparent; color: #212121; border-radius: 12px; }
.animated-button:hover .arr-1 { right: -25%; }
.animated-button:hover .arr-2 { left: 16px; }
.animated-button:hover .text { transform: translateX(12px); }
.animated-button:hover svg { fill: #212121; }
.animated-button:active { scale: 0.95; box-shadow: 0 0 0 4px #ADFF2F; }
.animated-button:hover .circle { width: 220px; height: 220px; opacity: 1; }

/* --- BUSCADOR --- */
.search-input { width: 100%; max-width: 400px; background: var(--glass); border: 1px solid var(--glass-border); padding: 10px 18px; border-radius: 999px; color: var(--foreground); outline: none; transition: all 0.3s ease; }
.search-input:focus { border-color: var(--primary); box-shadow: 0 0 15px rgba(16, 185, 129, 0.1); }

/* --- SWITCH --- */
.ui-switch { --switch-width: 48px; --switch-height: 20px; --circle-diameter: 32px; }
.ui-switch input { display: none; }
.slider { width: var(--switch-width); height: var(--switch-height); background: var(--switch-bg); border-radius: 999px; position: relative; cursor: pointer; }
.slider .circle { top: -6px; left: 0; width: var(--circle-diameter); height: var(--circle-diameter); position: absolute; background: var(--circle-bg); border-radius: inherit; display: flex; align-items: center; justify-content: center; transition: left 150ms ease; }
.ui-switch input:checked+.slider .circle { left: calc(100% - var(--circle-diameter)); }